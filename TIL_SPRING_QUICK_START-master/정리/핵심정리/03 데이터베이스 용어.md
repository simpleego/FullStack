03 데이터베이스 용어
=======================
# 1. 커넥션
**커넥션**
```
실제 자바프로그램과 데이터베이스를 네트워크상에서 연결을 해주는 메소드이다. 
연결에 성공하면 DB와 연결 상태를 Connection 객체로 표현하여 반환한다.
Connection은 아래의 그림과 같이 네트워크상의 연결 자체를 의미한다. 자바프로그램과 DB사이의 길로 볼 수 있다. 
보통 Connection하나당 트랜잭션 하나를 관리한다. 
트랜잭션은 하나 이상의 쿼리에서 동일한 Connection 객체를 공유하는 것을 뜻한다. 
Mybatis의 SqlSession, Hibernate에 TransactionManager등의 Close가 이루어지면
Connection을 ConnectionPool에 반납하게 된다.
```
***
# 2. 커넥션 풀
**커넥션 풀** : 
```
데이터베이스와 연결된 커넥션을 미리 만들어서 풀(pool) 속에 저장해 두고 있다가 
필요할 때 커넥션을 풀에서 쓰고 다시 풀에 반환하는 기법을 말한다

웹 프로그램에서는 
데이터베이스의 환경설정과 연결 관리 등을 따로 XML파일이나 속성 파일을 사용해서 관리하고, 
이렇게 설정된 정보를 이름을 사용하여 획득하는 방법을 사용한다.

이는 접속자가 등장했을시에 커넥션을 계속 생성했다 지웠다 하는 불필요한 과정을 없애고 
기존에 커넥션을 만들어 제공해줌으로써 동시 접속에 대한 서버 과부화를 예방할 수 있게 해준다.   
즉, 웹 사이트 동시 접속자수 등 서버 부하에 따라 크기를 조정해야 할것이다.

만약 동시 접속사 수가 준비된 커넥션보다 많을 경우는?  
남아있는 커넥션이 없을 경우 해당 클라이언트는 대기 상태로 전환이 되고, 
커넥션이 반환되면 대기하고 있는 순서대로 커넥션이 제공된다.

참고로 DBCP 가 DataBaseConnectionPool 의 약자이다.
```
   
***
# 3. DataSource
커넥션풀에는 여러개의 Connection 객체가 생성되어 운용되는데, 
이를 직접 웹 애플리케이션에서 다루기 힘들기 때문에 DataSource라는 개념을 도입하여 사용한다.   

1. 커넥션 풀의 Connection을 관리하기 위한 객체이다.
2. JNDI Server를 통해서 이용된다.
3. DataSource 객체를 통해서 필요한 Connection을 획득, 반납 등의 작업을 한다

```
ConnectionPool을 관리하는 목적으로 사용되는 객체로 
Application에서는 이 Datasource 인터페이스를 통해서 
Connection을 얻어오고 반납하는 등의 작업을 구현해야하는 인터페이스이다. 
Connection Pool에는 여러개의 Connection 객체가 생성되어 운용되어진다. 
각각을 직접 웹 어플리케이션에서 이용하면 체계적인 관리가 힘들게 되므로 DataSource라는 개념을 도입하여 사용하고 있다. 
DataSource 인터페이스는 Connection pool을 어플리케이션단에서 어떻게 관리할지를 구현해야하는 인터페이스이다.
```
  
***
# 4. Statement
**Statement**
```
DB에 SQL문을 전송 및 그 결과값을 받는 역할 
```    
***
# 5. JNDI
**JNDI**
```
JNDI는 디렉터리 서비스에서 제공하는 데이터 및 객체를 발견하고 참고하기 위한 자바 API다.
DB서버 커넥션에 대한 위치를 naming을 통해서 접근하도록 하는 
``` 
***
# 6. JDBC
**JDBC**
```
DBC는 Java Database Connectivity의 약어로      
자바 언어로 다양한 종류의 관계형 데이터베이스에 접속하고      
SQL문을 수행하여 처리하고자할 때 사용되는 표준 SQL 인터페이스 API이다.   
```

결론 : 
1. 커넥션을 생성하는데 무조건 JDBC가 필요  
2. 이를 이용하여 커넥션들을 생성하고 풀에 넣어 관리하는 커넥션풀이 개념이 생김
3. 2가지 방법이 있는데 한가지는 DBCP 한가지는 JNDI
4. 그리고 이러한 커넥션풀을 관리해주는 것이 DataSource
